$def with (post,comments,base_url,pages)
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>$post.post_title | 三流编码员</title>
<link rel="stylesheet" href="$base_url/static/css/style.css">
<link rel="stylesheet" href="http://www.36coder.com/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.9">
<link rel="alternate" type="application/rss+xml" title="三流编码员" href="">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>
<body>
<header id="main-header">
<div class="container">
<a id="logo" href="$base_url" title="三流编码员">三流编码员</a>
<nav>
	<ul>
		$for pl in pages:
			<li><a href="$base_url/news/$pl.get('post_name')">$pl.get('title')</a></li>
		<li><a href="$base_url/archives">文章存档</a></li>
		<li><a href="$base_url/links">友情链接</a></li>
	</ul>
</nav>
</div>
</header>
<!-- 文章 -->
<div id="main" class="container post">
<div class="content">
<article class="post block">
<h1 class="title">$post.post_title</h1>
<div class="meta"><time>$post.post_date_gmt.strftime("%Y-%m-%d %X")</time></div>
<div class="entry">
$post.post_content
</div>
</article>

<!-- 评论 -->

$if not comments:
	$ pass
$else:
	<div id="comments" class="block">
	<ol class="commentlist">
	$ ai = 1
	$for cl in comments:
		<li id="comment" class="comment clearfix">
		<img width="36" height="36" src="$cl.avatar" alt="" class="avatar">
		<div class="content"><div class="info"><span class="reviewer">$cl.comment_author</span><time datetime="$cl.comment_date_gmt.strftime('%Y-%m-%d %H:%M')">$cl.comment_date_gmt.strftime("%Y-%m-%d %H:%M")</time><div class="floor">$ai</div></div><div id="commentbody-53684" itemprop="description" class="description"><p>$cl.comment_content</p></div>
		</div>
		</li>
		$ ai = ai + 1
	</ol>
	</div>

<!-- 回复 -->
<div id="reply" class="block inner">
<form id="cmtform" action="$base_url/comment" method="post">
<div id="respond" class="clearfix">
<div id="reviewer-info">
<div class="row">
<input id="author" type="text" name="a_uthor" value="" size="24" tabindex="1" required="" class="textfield">
<label for="a_uthor" class="small">Name (required)</label></div>
<div class="row">
<input id="email" type="email" name="e_mail" value="" size="24" tabindex="2" required="" class="textfield">
<label for="e_mail" class="small">Email (required)</label></div>
<div class="row">
<input id="url" type="text" name="u_rl" value="" size="24" tabindex="3" class="textfield"><label for="u_rl" class="small">Website</label></div>
<div class="row">
<textarea id="comment" name="c_ontent" tabindex="4" rows="7" cols="50" required=""></textarea></div>
<div class="row">
<input id="comment-submit" name="submit" type="submit" tabindex="5" value="提交评论" class="button">
<input name="id" value="$post.ID" type="hidden">
</div>
</div>
</div>
</form>
</div>

</div>
</div>

<!-- footer -->
<footer id="main-footer">
<div class="container">
<p>Love is Love</p>
<p>Mysql, Web.py and CentOS</p>
</div>
</footer>
<div id="backtop" style="display:none;"><span>回到顶部</span></div>
<script src="http://lib.sinaapp.com/js/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
<script src="$base_url/static/js/prettify.js" type="text/javascript"></script>
<script src="$base_url/static/js/backtop.js" type="text/javascript"></script>
</body>
</html>